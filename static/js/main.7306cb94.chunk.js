(this.webpackJsonpfluxlogic=this.webpackJsonpfluxlogic||[]).push([[0],{131:function(e){e.exports=JSON.parse('{"name":"fluxlogic","homepage":"https://tcannon686.github.io/fluxlogic","version":"0.2.0","private":true,"dependencies":{"@material-ui/core":"^4.11.1","@material-ui/icons":"^4.9.1","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","gh-pages":"^3.1.0","react":"^16.13.1","react-dom":"^16.13.1","react-markdown":"^5.0.3","react-scripts":"3.4.3","workerize-loader":"^1.3.0"},"scripts":{"predeploy":"yarn build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","lint":"standard"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"standard":"^14.3.4"}}')},133:function(e,t,n){e.exports=n.p+"static/media/text.ede21a5e.svg"},135:function(e,t,n){e.exports=n.p+"static/media/open-pin.402b8aa6.svg"},136:function(e,t,n){e.exports=n.p+"static/media/open-pin-inverted.fb8a5ebb.svg"},137:function(e,t,n){e.exports=n.p+"static/media/pin.4c8eaca6.svg"},138:function(e,t,n){e.exports=n.p+"static/media/led-glow.ff1875d8.svg"},139:function(e,t,n){e.exports=n.p+"static/media/switch-on.37d11db0.svg"},140:function(e,t,n){e.exports=n.p+"static/media/seven-segment-0.04852a4c.svg"},141:function(e,t,n){e.exports=n.p+"static/media/seven-segment-1.6fd25c65.svg"},142:function(e,t,n){e.exports=n.p+"static/media/seven-segment-2.7208f433.svg"},143:function(e,t,n){e.exports=n.p+"static/media/seven-segment-3.8b8ca250.svg"},144:function(e,t,n){e.exports=n.p+"static/media/seven-segment-4.a18e6dce.svg"},145:function(e,t,n){e.exports=n.p+"static/media/seven-segment-5.25404539.svg"},146:function(e,t,n){e.exports=n.p+"static/media/seven-segment-6.f740952a.svg"},147:function(e,t,n){e.exports=n.p+"static/media/seven-segment-7.43f06495.svg"},148:function(e,t,n){e.exports=n.p+"static/media/seven-segment-8.4c14e783.svg"},149:function(e,t,n){e.exports=n.p+"static/media/seven-segment-9.50519141.svg"},150:function(e,t,n){e.exports=n.p+"static/media/seven-segment-10.b8869da5.svg"},151:function(e,t,n){e.exports=n.p+"static/media/seven-segment-11.4982a3e0.svg"},152:function(e,t,n){e.exports=n.p+"static/media/seven-segment-12.37b243f6.svg"},153:function(e,t,n){e.exports=n.p+"static/media/seven-segment-13.82ababea.svg"},154:function(e,t,n){e.exports=n.p+"static/media/seven-segment-14.a8711f2b.svg"},155:function(e,t,n){e.exports=n.p+"static/media/seven-segment-15.8f26ba8c.svg"},157:function(e,t,n){var a=n(266),c=["startSimulation","getState","stopSimulation","setUserInput"];e.exports=function(){var e=new Worker(n.p+"d7c5e2e18a2ec0baaa66.worker.js",{name:"[hash].worker.js"});return a(e,c),e}},182:function(e,t,n){e.exports=n(267)},187:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(12),r=n.n(i),o=(n(187),n(7)),u=n(14),l=n(167),s=n(11),f=n(325),p=n(328),m=n(326),d=n(322),g=n(270),b=n(336),v=n(329),h=n(337),O=n(97),E=n(338),j=n(166),x=n(323),y=n(333),C=n(327),k=n(332),S=n(324),w=n(162),M=n.n(w),N=n(163),P=n.n(N),D=n(94),B=n.n(D),G=n(161),R=n.n(G),F=n(160),I=n.n(F),A=n(164),L=n.n(A),W=n(159),X=n.n(W),U=n(158),T=n.n(U),Y=n(82),_=n.n(Y),H=n(312),z=n(72),J=n(268),K=(n(96),n(131));function V(){return{id:de(),connections:[]}}function q(){return{id:de(),type:"and",inputs:[V(),V()],outputs:Object.seal([V()])}}function Z(){return{id:de(),type:"or",inputs:[V(),V()],outputs:Object.seal([V()])}}function $(){return{id:de(),type:"xor",inputs:[V(),V()],outputs:Object.seal([V()])}}function Q(e){return{id:de(),type:"constant",inputs:Object.seal([]),outputs:Object.seal([V()]),value:e||!1}}function ee(){return{id:de(),type:"switch",inputs:Object.seal([]),outputs:Object.seal([V()])}}function te(){return{id:de(),type:"buffer",inputs:Object.seal([V()]),outputs:Object.seal([V()])}}function ne(e){return{id:de(),type:"sender",label:e||"A",inputs:Object.seal([V()]),outputs:Object.seal([])}}function ae(e){return{id:de(),type:"receiver",label:e||"A",inputs:Object.seal([]),outputs:Object.seal([V()])}}function ce(e){for(var t=[],n=0;n<e;n++)t.push(V());for(var a=0;a<1<<e;a++)t.push(V());return{id:de(),type:"mux",n:e,inputs:Object.seal(t),outputs:Object.seal([V()])}}function ie(e){for(var t=[V()],n=[],a=0;a<e;a++)t.push(V());for(var c=0;c<1<<e;c++)n.push(V());return{id:de(),type:"demux",n:e,inputs:Object.seal(t),outputs:Object.seal(n)}}function re(e){return{id:de(),type:"sevenSegment",inputs:Object.seal([V(),V(),V(),V()]),outputs:Object.seal([])}}function oe(){return{id:de(),type:"srLatch",inputs:Object.seal([V(),V(),V()]),outputs:Object.seal([V(),V()])}}function ue(){return{id:de(),type:"dLatch",inputs:Object.seal([V(),V()]),outputs:Object.seal([V(),V()])}}function le(){return{id:de(),type:"dFlipFlop",inputs:Object.seal([V(),V()]),outputs:Object.seal([V(),V()])}}function se(){return{id:de(),type:"srDFlipFlop",inputs:Object.seal([V(),V(),V(),V()]),outputs:Object.seal([V(),V()])}}function fe(e,t){return e.inputs.map((function(e){return 1===(t.outputs[e.connections[0]]^e.isInverted)}))}function pe(e,t){return t.inputs[e.id]}var me=0;function de(){return me>=Number.MAX_SAFE_INTEGER&&(me=0),me++}function ge(e){var t=Object(o.a)({},e),n=me,a=function(e){return me<Number.MAX_SAFE_INTEGER-e?e+me:e-Number.MAX_SAFE_INTEGER+me},c=function(e){var t=Object(o.a)({},e,{id:a(e.id)});return t.id>n&&(n=t.id),t.connections&&(t.connections=t.connections.map(a)),t};return t.gates=t.gates.map((function(e){var t=c(e);return t.inputs=t.inputs.map(c),t.outputs=t.outputs.map(c),t})),me=n+1,t}var be=function(e){var t=function(e){return Object.fromEntries(e.reduce((function(e,t){return e.concat(t.inputs.map((function(e){return e.id})),t.outputs.map((function(e){return e.id})))}),[]).map((function(e){return[e,!0]})))}(e);return e.map((function(e){var n=Object(o.a)({},e),a=function(e){return Object(o.a)({},e,{connections:e.connections.filter((function(e){return t[e]}))})};return n.inputs=n.inputs.map(a),n.outputs=n.outputs.map(a),n}))},ve=function(e){return JSON.parse(e)};var he=function(e){var t=Number(e.x0),n=Number(e.y0),a=Number(e.x1),i=Number(e.y1),r=Math.min(Math.abs(i-n),Math.abs(a-t)),o=.1+(a<t?.25*r:0),u=Math.min(t,a)-o,l=Math.min(n,i)-o,s=t-u+r,f=a-u-r,p=Math.abs(a-t)+2*o,m=Math.abs(i-n)+2*o,d="M ".concat(t-u," ").concat(n-l," ")+"C ".concat(s," ").concat(n-l,", ").concat(f," ").concat(i-l,", ").concat(a-u," ").concat(i-l);return c.a.createElement("svg",{width:"".concat(p,"in"),height:"".concat(m,"in"),viewBox:"0 0 ".concat(p," ").concat(m),style:{position:"absolute",left:"".concat(u,"in"),top:"".concat(l,"in"),pointerEvents:"none"}},c.a.createElement("path",{d:d,stroke:"black",strokeWidth:"0.01",fill:"transparent"}))},Oe=function(e){var t=Object(a.useRef)(null),n=Object(a.useCallback)((function(){return t.current.apply(t,arguments)}),[]);return Object(a.useEffect)((function(){t.current=e}),[e]),n};function Ee(e){var t=e.theme,n=e.editable,i=e.circuit,r=e.page,o=Object(a.useMemo)((function(){return void 0!==r?i.gates.filter((function(e){return(e.page||0)===r})):i.gates}),[i,r]),u=e.selection,l=e.moveAmount,s=e.simState,f=Object(a.useMemo)((function(){var e={};return o.forEach((function(n){var a=(n.x||0)+(u[n.id]?l[0]:0),c=(n.y||0)+(u[n.id]?l[1]:0);Object.assign(e,t.getPinPositions(n,a,c))})),e}),[u,t,l,o]),p=Oe(e.onGateClick),m=Oe(e.onGateMouseDown),d=Oe(e.onPinMouseUp),g=Oe(e.onPinMouseDown);return c.a.createElement(c.a.Fragment,null,o.map((function(e){return e.inputs.filter((function(e){return e.connections[0]})).map((function(e){return c.a.createElement(he,{key:"".concat(e.id,"-").concat(e.connections[0].id),x0:f[e.connections[0]].x,y0:f[e.connections[0]].y,x1:f[e.id].x,y1:f[e.id].y})}))})),o.map((function(a){var i=(a.x||0)+(e.selection[a.id]?l[0]:0),r=(a.y||0)+(e.selection[a.id]?l[1]:0),o=t.getGateComponent(a);return c.a.createElement(o,{simState:s,gate:a,x:i,y:r,key:a.id,theme:t,selected:u[a.id],editable:n,onGateClick:p,onGateMouseDown:m,onPinMouseDown:g,onPinMouseUp:d})})))}var je=n(49),xe=Object(H.a)((function(e){return{selectionBox:{position:"fixed",background:Object(je.fade)(e.palette.primary.main,.3),pointerEvents:"none"}}}));var ye=function(e){var t=Object(a.useState)(e.selectionStart),n=Object(s.a)(t,2),i=n[0],r=n[1],o=e.selectionStart,u=e.onSelectionChanged,l=xe();return Object(a.useEffect)((function(){var e=function(e){var t=[e.clientX,e.clientY];r(t),u([Math.min(o[0],t[0]),Math.min(o[1],t[1])],[Math.max(o[0],t[0]),Math.max(o[1],t[1])])};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[o,u]),i[0]!==e.selectionStart[0]&&i[1]!==e.selectionStart[1]&&c.a.createElement("div",{className:l.selectionBox,style:{left:Math.min(e.selectionStart[0],i[0]),top:Math.min(e.selectionStart[1],i[1]),width:Math.abs(i[0]-e.selectionStart[0]),height:Math.abs(i[1]-e.selectionStart[1])}})},Ce=Object(H.a)((function(e){return{page:{width:"8.5in",height:"11in",position:"relative"}}}));function ke(e){var t=Object(a.useState)([e.x0,e.y0]),n=Object(s.a)(t,2),i=n[0],r=n[1],o=e.clientToPage;return Object(a.useEffect)((function(){var e=function(e){r(o([e.clientX,e.clientY]))};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[o]),e.isOutputPin?c.a.createElement(he,{x0:e.x0,y0:e.y0,x1:i[0],y1:i[1]}):c.a.createElement(he,{x1:e.x0,y1:e.y0,x0:i[0],y0:i[1]})}var Se=c.a.forwardRef((function(e,t){var n=e.selection,i=e.theme,r=e.simState,l=e.editable,f=e.circuit,p=e.page,m=e.onCircuitChanged,d=e.onSelectionChanged,g=e.onUserInputChanged,b=Ce(),v=Object(a.useState)(null),h=Object(s.a)(v,2),O=h[0],E=h[1],j=Object(a.useState)({}),x=Object(s.a)(j,2),y=x[0],C=x[1],k=Object(a.useState)(!1),S=Object(s.a)(k,2),w=S[0],M=S[1],N=Object(a.useState)(!1),P=Object(s.a)(N,2),D=P[0],B=P[1],G=Object(a.useState)([0,0]),R=Object(s.a)(G,2),F=R[0],I=R[1],A=Object(a.useState)([0,0]),L=Object(s.a)(A,2),W=L[0],X=L[1],U=Object(a.useState)(null),T=Object(s.a)(U,2),Y=T[0],_=T[1],H=Object(a.useState)(!1),K=Object(s.a)(H,2),V=K[0],q=K[1],Z=Object(a.useMemo)((function(){return void 0!==p?f.gates.filter((function(e){return(e.page||0)===p})):f.gates}),[f,p]),$=w?[(W[0]-F[0])/96,(W[1]-F[1])/96]:[0,0],Q=function(e){var n=t.current.getBoundingClientRect();return[(e[0]-n.left)/96,(e[1]-n.top)/96]},ee=Object(a.useCallback)((function(e,t){if(l&&0===e.button){if(!D){var a={};e.shiftKey&&Object.assign(a,n),a[t.id]=!a[t.id],d(a),e.stopPropagation()}}else null!=r&&"switch"===t.type&&g(t,!pe(t,r))}),[n,l,D,d,g,r]),te=Object(a.useCallback)((function(e,t){if(l&&0===e.button){var a=0===Object.keys(n).length;I([e.clientX,e.clientY]),X([e.clientX,e.clientY]),B(!1),a&&d(Object(z.a)({},t.id,!0)),(n[t.id]||a)&&M(!0),e.stopPropagation()}e.preventDefault()}),[l,n,I,X,B,d]),ne=Object(a.useCallback)((function(e){var t=Object(o.a)({},f);t.gates=t.gates.map((function(t){return n[t.id]&&((t=Object(o.a)({},t)).x+=e[0],t.y+=e[1]),t})),m(t)}),[f,n,m]),ae=Object(a.useCallback)((function(e,t){var n,a,c=Object(o.a)({},f),i=function(n,a){if(a||0===n.connections.length){if(n.id===e)return Object(o.a)({},n,{connections:[].concat(Object(u.a)(n.connections),[t])});if(n.id===t)return Object(o.a)({},n,{connections:[].concat(Object(u.a)(n.connections),[e])})}return n},r=!1;c.gates=c.gates.map((function(e){var t=!1,a=e.inputs.map((function(a){var c=i(a);return c!==a&&(n=e.id,t=!0),c}));return t?(r=!0,Object(o.a)({},e,{inputs:a})):e})),r&&(c.gates=c.gates.map((function(e){var t=!1,n=e.outputs.map((function(n){var c=i(n,!0);return c!==n&&(a=e.id,t=!0),c}));return t?Object(o.a)({},e,{outputs:n}):e})),n!==a&&m(c))}),[f,m]),ce=Object(a.useCallback)((function(e,t,n){if(l&&0===e.button)if(n)_(t.id),q(n);else if(t.connections.length>0){var a=Object(o.a)({},f);a.gates=a.gates.map((function(e){var n=e.inputs.indexOf(t),a=e.outputs.findIndex((function(e){return e.id===t.connections[0]}));if(-1!==n){var c=Object(o.a)({},e,{inputs:Object(u.a)(e.inputs)});return c.inputs[n]=Object(o.a)({},t,{connections:[]}),c}if(-1!==a){var i=e.outputs[a],r=Object(o.a)({},e,{outputs:Object(u.a)(e.outputs)});return r.outputs[a]=Object(o.a)({},i,{connections:i.connections.filter((function(e){return e!==t.id}))}),r}return e})),m(a),_(t.connections[0]),q(!0)}else _(t.id),q(n);e.stopPropagation(),e.preventDefault()}),[f,l,_,q,m]),ie=Object(a.useCallback)((function(e,t,n){l&&(null!==Y&&Y!==t.id&&n^V&&(ae(Y,t.id),e.stopPropagation(),e.preventDefault()),_(null))}),[l,Y,V,ae]),re=Object(o.a)({},e.selection,{},y),oe=Object(a.useMemo)((function(){var e={};return f.gates.forEach((function(t){var a=(t.x||0)+(n[t.id]?$[0]:0),c=(t.y||0)+(n[t.id]?$[1]:0);Object.assign(e,i.getPinPositions(t,a,c))})),e}),[n,i,$,f]);return Object(a.useEffect)((function(){var e=function(e){l?0===e.button&&(w?(ne($),M(!1),e.stopPropagation()):O&&(C({}),d(re)),E(null),null!==Y&&_(null),e.preventDefault()):e.preventDefault()};return window.addEventListener("mouseup",e),function(){return window.removeEventListener("mouseup",e)}})),Object(a.useEffect)((function(){if(l){var e=function(e){w&&X([e.clientX,e.clientY]),D||B(!0)};return window.addEventListener("mousemove",e),function(){return window.removeEventListener("mousemove",e)}}}),[w,D,l]),c.a.createElement(J.a,{elevation:3,square:!0,className:b.page,ref:t,onMouseDown:function(e){l&&0===e.button&&(E([e.clientX,e.clientY]),e.shiftKey||d({})),document.activeElement.blur(),e.preventDefault()}},l&&null!==Y&&c.a.createElement(ke,{x0:oe[Y].x,y0:oe[Y].y,clientToPage:Q,isOutputPin:V}),c.a.createElement(Ee,{page:e.page,circuit:f,editable:l,selection:re,theme:i,moveAmount:$,onPinMouseDown:ce,onPinMouseUp:ie,onGateClick:ee,onGateMouseDown:te,simState:r}),l&&O&&c.a.createElement(ye,{selectionStart:O,onSelectionChanged:function(t,n){var a=Q(t),c=Q(n),i=null;Z.forEach((function(t){var n=e.theme.getWidth(t),r=e.theme.getHeight(t),o=t.x>=a[0]&&t.y>=a[1]&&t.x+n<=c[0]&&t.y+r<=c[1];o&&!y[t.id]?(i||(i=Object.assign({},y)),i[t.id]=!0):!o&&y[t.id]&&(i||(i=Object.assign({},y)),delete i[t.id])})),i&&C(i)}}))})),we=n(318),Me=n(319),Ne=n(269),Pe=n(316),De=n(315),Be=n(317),Ge=n(132),Re=n.n(Ge);function Fe(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),i=n[0],r=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,{button:!0,onClick:function(){return r(!i)}},c.a.createElement(De.a,null,i?c.a.createElement(Re.a,null):c.a.createElement(_.a,null)),c.a.createElement(Pe.a,null,e.title)),c.a.createElement(Be.a,{in:i},c.a.createElement(Ne.a,null,e.children)))}var Ie=n(57),Ae=n.n(Ie),Le=n(58),We=n.n(Le),Xe=n(83),Ue=n.n(Xe),Te=n(84),Ye=n.n(Te),_e=n(85),He=n.n(_e),ze=n(59),Je=n.n(ze),Ke=n(60),Ve=n.n(Ke),qe=n(61),Ze=n.n(qe),$e=n(86),Qe=n.n($e),et=n(87),tt=n.n(et),nt=n(62),at=n.n(nt),ct=n(63),it=n.n(ct),rt=n(88),ot=n.n(rt),ut=n(89),lt=n.n(ut),st=n(90),ft=n.n(st),pt=n(91),mt=n.n(pt),dt=n(92),gt=n.n(dt),bt=n(133),vt=n.n(bt),ht=n(93),Ot=n.n(ht);function Et(e){return c.a.createElement(we.a,{item:!0,xs:3},c.a.createElement(O.a,{title:"Add ".concat(e.text)},c.a.createElement(g.a,{onClick:e.onClick},c.a.createElement("div",{style:{position:"relative",width:"0.5in",height:"0.5in",overflow:"hidden"}},e.inverted&&c.a.createElement(he,{x0:.25,y0:.25,x1:.4375,y1:.25}),e.inverted&&c.a.createElement("img",{src:Ot.a,alt:"",style:{position:"absolute",left:"".concat(.375,"in"),top:"".concat(.1875,"in")}}),c.a.createElement("img",{src:e.svg,alt:"",style:{position:"absolute",left:e.inverted?"-0.0625in":0,top:0}})))))}var jt=c.a.memo((function(e){var t=function(e){return e.outputs[0].isInverted=!0,e};return c.a.createElement(Me.a,null,c.a.createElement(Fe,{title:"Basic Gates"},c.a.createElement(we.a,{container:!0},c.a.createElement(Et,{svg:Ae.a,text:"AND gate",onClick:function(){return e.onSelect(q)}}),c.a.createElement(Et,{svg:Ae.a,text:"NAND gate",onClick:function(){return e.onSelect((function(){return t(q())}))},inverted:!0}),c.a.createElement(Et,{svg:We.a,text:"OR gate",onClick:function(){return e.onSelect(Z)}}),c.a.createElement(Et,{svg:We.a,text:"NOR gate",onClick:function(){return e.onSelect((function(){return t(Z())}))},inverted:!0}),c.a.createElement(Et,{svg:Ue.a,text:"XOR gate",onClick:function(){return e.onSelect($)}}),c.a.createElement(Et,{svg:He.a,text:"ground",onClick:function(){return e.onSelect((function(){return Q(!1)}))}}),c.a.createElement(Et,{svg:Ye.a,text:"+1",onClick:function(){return e.onSelect((function(){return Q(!0)}))}}),c.a.createElement(Et,{svg:Ve.a,text:"buffer",onClick:function(){return e.onSelect((function(){return te()}))}}),c.a.createElement(Et,{svg:Ve.a,text:"inverter",onClick:function(){return e.onSelect((function(){return t(te())}))},inverted:!0}))),c.a.createElement(Fe,{title:"Input/Output"},c.a.createElement(we.a,{container:!0},c.a.createElement(Et,{svg:Je.a,text:"LED",onClick:function(){return e.onSelect((function(){return{id:de(),type:"led",inputs:Object.seal([V()]),outputs:Object.seal([])}}))}}),c.a.createElement(Et,{svg:ot.a,text:"7-segment display",onClick:function(){return e.onSelect(re)}}),c.a.createElement(Et,{svg:Ze.a,text:"switch",onClick:function(){return e.onSelect(ee)}}),c.a.createElement(Et,{svg:Qe.a,text:"sender",onClick:function(){return e.onSelect(ne)}}),c.a.createElement(Et,{svg:tt.a,text:"receiver",onClick:function(){return e.onSelect(ae)}}))),c.a.createElement(Fe,{title:"Mux/Demux"},c.a.createElement(we.a,{container:!0},c.a.createElement(Et,{svg:at.a,text:"2 to 1 mux",onClick:function(){return e.onSelect((function(){return ce(1)}))}}),c.a.createElement(Et,{svg:at.a,text:"4 to 1 mux",onClick:function(){return e.onSelect((function(){return ce(2)}))}}),c.a.createElement(Et,{svg:it.a,text:"1 to 2 demux",onClick:function(){return e.onSelect((function(){return ie(1)}))}}),c.a.createElement(Et,{svg:it.a,text:"1 to 4 demux",onClick:function(){return e.onSelect((function(){return ie(2)}))}}))),c.a.createElement(Fe,{title:"Flip-Flops and Latches"},c.a.createElement(we.a,{container:!0},c.a.createElement(Et,{svg:lt.a,text:"gated SR-latch",onClick:function(){return e.onSelect(oe)}}),c.a.createElement(Et,{svg:ft.a,text:"D-latch",onClick:function(){return e.onSelect(ue)}}),c.a.createElement(Et,{svg:mt.a,text:"D-flip-flop",onClick:function(){return e.onSelect(le)}}),c.a.createElement(Et,{svg:gt.a,text:"SR-D-flip-flop",onClick:function(){return e.onSelect(se)}}))),c.a.createElement(Fe,{title:"Other"},c.a.createElement(we.a,{container:!0},c.a.createElement(Et,{svg:vt.a,text:"text",onClick:function(){return e.onSelect((function(){return e="Text",{id:de(),type:"text",inputs:Object.seal([]),outputs:Object.seal([]),text:e,width:2,height:.5};var e}))}}))))})),xt=n(331),yt=n(334),Ct=Object(H.a)((function(e){return{evenlySpaced:{"& > *":{margin:e.spacing(1)}}}}));function kt(e){return c.a.createElement(Ne.a,null,c.a.createElement(De.a,null,c.a.createElement(b.a,{title:"Invert pin"},c.a.createElement(yt.a,{checked:Boolean(e.pin.isInverted),onChange:function(t){var n=Object(o.a)({},e.pin);t.target.checked?n.isInverted=!0:delete n.isInverted,e.onChange(n)}}))),c.a.createElement(Pe.a,null," ",e.label||"Pin ".concat(e.index+1)," "),e.deletable&&c.a.createElement(g.a,{onClick:e.onPinDeleted},c.a.createElement(B.a,null)))}function St(e){var t=e.circuit,n=e.selection,i=Ct(),r=Object(a.useMemo)((function(){return t.gates.filter((function(e){return n[e.id]}))}),[t,n]),l=Object(a.useMemo)((function(){return r.reduce((function(e,t){return Math.min(e,t.x)}),1/0)}),[r]),f=Object(a.useMemo)((function(){return r.reduce((function(e,t){return Math.min(e,t.y)}),1/0)}),[r]),p=Object(a.useMemo)((function(){return r.reduce((function(e,t){return void 0===e?t.label||"":t.label===e&&void 0!==t.label?e:""}),void 0)||""}),[r]),m=Object(a.useMemo)((function(){return r.every((function(e){return void 0!==e.label}))}),[r]),b=Object(a.useState)(0),v=Object(s.a)(b,2),h=v[0],E=v[1],j=Object(a.useState)(0),x=Object(s.a)(j,2),y=x[0],C=x[1],S=Object(a.useState)(""),w=Object(s.a)(S,2),M=w[0],N=w[1];Object(a.useEffect)((function(){E(l),C(f)}),[l,f]),Object(a.useEffect)((function(){N(p)}),[p]);var P=function(a){var c=Object(o.a)({},t);c.gates=t.gates.map((function(e){return n[e.id]?a(e):e})),e.onCircuitChanged(c)},D=function(n,a,c){var i=Object(o.a)({},t);i.gates=Object(u.a)(t.gates);var r=Object(o.a)({},G);i.gates[i.gates.indexOf(G)]=r,c?(r.outputs=Object(u.a)(r.outputs),r.outputs[n]=a):(r.inputs=Object(u.a)(r.inputs),r.inputs[n]=a),e.onCircuitChanged(i)},B=function(n,a){var c=Object(o.a)({},t);c.gates=Object(u.a)(t.gates);var i=Object(o.a)({},G);c.gates[c.gates.indexOf(G)]=i,a?i.outputs=i.outputs.filter((function(e,t){return t!==n})):i.inputs=i.inputs.filter((function(e,t){return t!==n})),c.gates=be(c.gates),e.onCircuitChanged(c)},G=r[0],R=Object(a.useState)(""),F=Object(s.a)(R,2),I=F[0],A=F[1],L=Object(a.useState)(0),W=Object(s.a)(L,2),X=W[0],U=W[1],T=Object(a.useState)(0),Y=Object(s.a)(T,2),_=Y[0],H=Y[1];if(Object(a.useEffect)((function(){G&&(A(G.text||""),U(G.width||0),H(G.height||0))}),[G]),0===r.length)return c.a.createElement(k.a,{p:3},c.a.createElement(O.a,{variant:"body1"},"Make a selection, then its properties will be available here."));var z="and"===G.type||"or"===G.type||"xor"===G.type,J=c.a.createElement(Fe,{title:"Inputs"},c.a.createElement(Me.a,null,G.inputs.map((function(e,t){return c.a.createElement(kt,{key:t,index:t,pin:e,label:"mux"===G.type&&(t<G.n?"Select ".concat(t+1):"Data ".concat(t-G.n+1)),onChange:function(e){return D(t,e,!1)},onPinDeleted:function(){return B(t,!1)},deletable:G.inputs.length>2&&z})})),z&&G.inputs.length<4&&c.a.createElement(Ne.a,null,c.a.createElement(g.a,{fullWidth:!0,onClick:function(){return function(n){var a=Object(o.a)({},t);a.gates=Object(u.a)(t.gates);var c=Object(o.a)({},G);a.gates[a.gates.indexOf(G)]=c,n?c.outputs=[].concat(Object(u.a)(c.outputs),[V()]):c.inputs=[].concat(Object(u.a)(c.inputs),[V()]),e.onCircuitChanged(a)}(!1)}},"Add Pin")))),K=c.a.createElement(Fe,{title:"Outputs"},c.a.createElement(Me.a,null,G.outputs.map((function(e,t){return c.a.createElement(kt,{key:t,index:t,pin:e,onChange:function(e){return D(t,e,!0)},onPinDeleted:function(){return B(t,!0)}})})))),q=c.a.createElement(Fe,{title:"Text"},c.a.createElement(xt.a,{multiline:!0,fullWidth:!0,label:"Text",variant:"filled",value:I,onChange:function(e){return A(e.target.value)},onBlur:function(e){e.target.value.length>0&&P((function(t){return Object(o.a)({},t,{text:e.target.value})}))}})),Z=c.a.createElement(Fe,{title:"Size"},c.a.createElement(k.a,{class:i.evenlySpaced},c.a.createElement(xt.a,{fullWidth:!0,label:"Width",variant:"filled",value:X,onChange:function(e){return U(e.target.value)},onBlur:function(e){isNaN(e.target.value)||P((function(t){return Object(o.a)({},t,{width:Number(e.target.value)})}))}}),c.a.createElement(xt.a,{fullWidth:!0,label:"Height",variant:"filled",onChange:function(e){return H(e.target.value)},value:_,onBlur:function(e){isNaN(e.target.value)||P((function(t){return Object(o.a)({},t,{height:Number(e.target.value)})}))}}))),$=c.a.createElement(c.a.Fragment,null,G.inputs.length>0&&J,G.outputs.length>0&&K,void 0!==G.width&&void 0!==G.height&&Z,void 0!==G.text&&q),Q=c.a.createElement(Fe,{title:"Position"},c.a.createElement(k.a,{class:i.evenlySpaced},c.a.createElement(xt.a,{fullWidth:!0,label:"X",variant:"filled",value:h,onChange:function(e){return E(e.target.value)},onBlur:function(e){isNaN(e.target.value)||P((function(t){return Object(o.a)({},t,{x:Number(e.target.value)-l+t.x})}))}}),c.a.createElement(xt.a,{fullWidth:!0,label:"Y",variant:"filled",onChange:function(e){return C(e.target.value)},value:y,onBlur:function(e){isNaN(e.target.value)||P((function(t){return Object(o.a)({},t,{y:Number(e.target.value)-f+t.y})}))}}),r.length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{fullWidth:!0},c.a.createElement(g.a,{onClick:function(){var a=Object(o.a)({},t);a.gates=t.gates.map((function(e){return n[e.id]?Object(o.a)({},e,{x:l}):e})),e.onCircuitChanged(a)}},"Align X"),c.a.createElement(g.a,{onClick:function(){var a=Object(o.a)({},t);a.gates=t.gates.map((function(e){return n[e.id]?Object(o.a)({},e,{y:f}):e})),e.onCircuitChanged(a)}},"Align Y")),c.a.createElement(d.a,{fullWidth:!0},c.a.createElement(g.a,{onClick:function(){var a=Object(o.a)({},t),c=Object(u.a)(r).sort((function(e,t){return e.x-t.x}));a.gates=t.gates.map((function(e){return n[e.id]?Object(o.a)({},e,{x:.75*c.indexOf(e)+l}):e})),e.onCircuitChanged(a)}},"Distribute X"),c.a.createElement(g.a,{onClick:function(){var a=Object(o.a)({},t),c=Object(u.a)(r).sort((function(e,t){return e.y-t.y}));a.gates=t.gates.map((function(e){return n[e.id]?Object(o.a)({},e,{y:.5*c.indexOf(e)+f}):e})),e.onCircuitChanged(a)}},"Distribute Y"))))),ee=c.a.createElement(c.a.Fragment,null,c.a.createElement(Fe,{title:"Label"},c.a.createElement(xt.a,{fullWidth:!0,label:"Label",variant:"filled",value:M,onChange:function(e){return N(e.target.value)},onBlur:function(e){e.target.value.length>0&&P((function(t){return Object(o.a)({},t,{label:e.target.value})}))}})));return c.a.createElement("form",{noValidate:!0},c.a.createElement(Me.a,null,Q,m&&ee,1===r.length&&$))}var wt=n(135),Mt=n.n(wt),Nt=n(136),Pt=n.n(Nt),Dt=n(137),Bt=n.n(Dt),Gt=n(138),Rt=n.n(Gt),Ft=n(139),It=n.n(Ft),At=n(140),Lt=n.n(At),Wt=n(141),Xt=n.n(Wt),Ut=n(142),Tt=n.n(Ut),Yt=n(143),_t=n.n(Yt),Ht=n(144),zt=n.n(Ht),Jt=n(145),Kt=n.n(Jt),Vt=n(146),qt=n.n(Vt),Zt=n(147),$t=n.n(Zt),Qt=n(148),en=n.n(Qt),tn=n(149),nn=n.n(tn),an=n(150),cn=n.n(an),rn=n(151),on=n.n(rn),un=n(152),ln=n.n(un),sn=n(153),fn=n.n(sn),pn=n(154),mn=n.n(pn),dn=n(155),gn=n.n(dn),bn=n(156),vn=n.n(bn),hn=Object(H.a)((function(e){return{selectedGate:{position:"absolute",left:0,top:0,background:Object(je.fade)(e.palette.primary.main,.3),borderRadius:"4px",cursor:"move"},gate:{position:"absolute",left:0,top:0},pin:{position:"absolute",left:0,top:0},editableGate:{position:"absolute",left:0,top:0,borderRadius:"4px",cursor:"pointer","&:hover":{background:Object(je.fade)(e.palette.primary.main,.15)}},editablePin:{position:"absolute",margin:0,borderRadius:"4px",cursor:"pointer","&:hover":{background:Object(je.fade)(e.palette.primary.main,.3)}},label:{position:"relative",transform:"translate(-50%, -50%)",textAlign:"center",width:"1in",top:"-.1in",pointerEvents:"none"}}})),On=function(e){var t=e.theme,n=hn(),a=e.x,i=e.y,r=t.getWidth(e.gate),o=t.getHeight(e.gate),u=t.getPinPositions(e.gate,a,i),l=e.selected,s=function(r){return c.a.createElement("img",{alt:"",src:t.getPinSvg(r.pin),onMouseDown:function(t){return e.onPinMouseDown(t,r.pin,r.isOutput)},onMouseUp:function(t){return e.onPinMouseUp(t,r.pin,r.isOutput)},style:{left:"".concat(u[r.pin.id].x-a-.0625,"in"),top:"".concat(u[r.pin.id].y-i-.0625,"in")},className:e.editable?n.editablePin:n.pin})};return c.a.createElement("div",{style:{left:"".concat(a,"in"),top:"".concat(i,"in"),width:"".concat(r,"in"),height:"".concat(o,"in")},className:e.editable?l?n.selectedGate:n.editableGate:n.gate},e.gate.outputs.map((function(e){return c.a.createElement(he,{key:"".concat(e.id,"-"),x0:u[e.id].x-a,y0:u[e.id].y-i,x1:(u[e.id].x1||u[e.id].x-.25)-a,y1:(u[e.id].y1||u[e.id].y)-i})})),e.gate.inputs.map((function(e){return c.a.createElement(he,{key:"".concat(e.id,"-"),x0:u[e.id].x-a,y0:u[e.id].y-i,x1:(u[e.id].x1||u[e.id].x+.25)-a,y1:(u[e.id].y1||u[e.id].y)-i})})),e.children,e.gate.label&&c.a.createElement("p",{className:n.label,style:{left:"".concat(t.getWidth(e.gate)/2,"in")}},e.gate.label),e.gate.inputs.map((function(e){return c.a.createElement(s,{pin:e,isOutput:!1,key:e.id})})),e.gate.outputs.map((function(e){return c.a.createElement(s,{pin:e,isOutput:!0,key:e.id})})))},En=c.a.memo((function(e){return c.a.createElement(On,e,c.a.createElement("img",{alt:e.gate.type,src:e.svg,style:{position:"absolute"},onClick:function(t){return e.onGateClick(t,e.gate)},onMouseDown:function(t){return e.onGateMouseDown(t,e.gate)}}))})),jn=c.a.memo((function(e){return c.a.createElement(On,e,c.a.createElement("div",{onClick:function(t){return e.onGateClick(t,e.gate)},onMouseDown:function(t){return e.onGateMouseDown(t,e.gate)},style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}},c.a.createElement(vn.a,null,e.gate.text)))})),xn=[Lt.a,Xt.a,Tt.a,_t.a,zt.a,Kt.a,qt.a,$t.a,en.a,nn.a,cn.a,on.a,ln.a,fn.a,mn.a,gn.a],yn={and:function(e){return c.a.createElement(En,Object.assign({},e,{svg:Ae.a}))},or:function(e){return c.a.createElement(En,Object.assign({svg:We.a},e))},xor:function(e){return c.a.createElement(En,Object.assign({svg:Ue.a},e))},buffer:function(e){return c.a.createElement(En,Object.assign({svg:Ve.a},e))},led:function(e){return c.a.createElement(En,Object.assign({svg:e.simState&&fe(e.gate,e.simState)[0]?Rt.a:Je.a},e))},constant:function(e){return c.a.createElement(En,Object.assign({svg:e.gate.value?Ye.a:He.a},e))},switch:function(e){return c.a.createElement(En,Object.assign({svg:e.simState&&pe(e.gate,e.simState)?It.a:Ze.a},e))},sender:function(e){return c.a.createElement(En,Object.assign({svg:Qe.a},e))},receiver:function(e){return c.a.createElement(En,Object.assign({svg:tt.a},e))},mux:function(e){return c.a.createElement(En,Object.assign({svg:at.a},e))},demux:function(e){return c.a.createElement(En,Object.assign({svg:it.a},e))},sevenSegment:function(e){return c.a.createElement(En,Object.assign({svg:e.simState?xn[fe(e.gate,e.simState).reduce((function(e,t,n){return e+Number(t)*(1<<n)}))]:ot.a},e))},srLatch:function(e){return c.a.createElement(En,Object.assign({svg:lt.a},e))},dLatch:function(e){return c.a.createElement(En,Object.assign({svg:ft.a},e))},dFlipFlop:function(e){return c.a.createElement(En,Object.assign({svg:mt.a},e))},srDFlipFlop:function(e){return c.a.createElement(En,Object.assign({svg:gt.a},e))},text:function(e){return c.a.createElement(jn,e)}},Cn={getPinSvg:function(e){return 0===e.connections.length?e.isInverted?Pt.a:Mt.a:e.isInverted?Ot.a:Bt.a},getGateComponent:function(e){return yn[e.type]},getPinPositions:function(e,t,n,a){var c=function(e,t){return(e-(t-1)/2)/Math.max(t-1,1)};if("mux"===e.type||"demux"===e.type){var i={};return e.inputs.forEach((function(a,r){if(r<e.n){var o=t+.25-.075*c(r,e.n);i[a.id]={x:o,y:n+.5,x1:o,y1:n+.25}}else i[a.id]={x:t,y:n+.25-.225*c(r-e.n,e.inputs.length-e.n)}})),e.outputs.forEach((function(a,r){i[a.id]={x:t+.5,y:n+.25-.225*c(r,e.outputs.length)}})),i}if("srDFlipFlop"===e.type){var r={},o=e.inputs[0],u=e.inputs[1],l=e.inputs[2],s=e.inputs[3],f=function(e,a){r[e.id]={x:t,y:n+.25-.225*c(a,2)}};return f(u,0),f(l,1),r[s.id]={x:t+.25,y:n-.05,x1:t+.25,y1:n},r[o.id]={x:t+.25,y:n+.55,x1:t+.25,y1:n},e.outputs.forEach((function(a,i){r[a.id]={x:t+.5,y:n+.25-.225*c(i,e.outputs.length)}})),r}var p={};return e.inputs.forEach((function(a,i){p[a.id]={x:t,y:n+.25-.225*c(i,e.inputs.length)}})),e.outputs.forEach((function(a,i){p[a.id]={x:t+.5,y:n+.25-.225*c(i,e.outputs.length)}})),p},getWidth:function(e,t){return e.width||.5},getHeight:function(e,t){return e.height||.5}},kn=n(157),Sn=n.n(kn),wn=Object(H.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2)},menuButtonGroup:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:320,flexShrink:0},drawerContent:{width:320,overflowX:"hidden"},content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}}));function Mn(e){for(var t=Object(a.useState)(null),n=Object(s.a)(t,2),i=n[0],r=n[1],o=wn(),u=function(){return r(null)},l=[],f=function(t){l.push(c.a.createElement(x.a,{key:t,onClick:function(){e.onChangedPage(t),u()}},"Page ",t+1))},p=0;p<=e.pageCount;p++)f(p);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{title:"Change page"},c.a.createElement(g.a,{"aria-controls":"simple-menu","aria-haspopup":"true","aria-label":"change page",className:o.menuButton,color:"inherit",onClick:function(e){return r(e.currentTarget)}},"Page ",1+e.page,c.a.createElement(_.a,null))),c.a.createElement(j.a,{keepMounted:!0,open:Boolean(i),onClose:u,anchorEl:i},l))}function Nn(e){var t=e.children,n=e.value,a=e.index,i=Object(l.a)(e,["children","value","index"]);return c.a.createElement(S.a,{in:n===a},c.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),n===a&&c.a.createElement(k.a,null,t)))}var Pn=function(){var e=function(e,t){var n=Object(a.useState)(e),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)([]),l=Object(s.a)(o,2),f=l[0],p=l[1],m=Object(a.useState)([]),d=Object(s.a)(m,2),g=d[0],b=d[1],v=Object(a.useCallback)((function(){f.length>0&&(b([i].concat(Object(u.a)(g))),r(f[0]),p(f.slice(1)))}),[i,f,g,r,p,b]),h=Object(a.useCallback)((function(){g.length>0&&(p([i].concat(Object(u.a)(f))),r(g[0]),b(g.slice(1)))}),[i,f,g,r,p,b]),O=Object(a.useCallback)((function(e){p([i].concat(Object(u.a)(f)).splice(-(t||1e3))),r(e),b([])}),[i,f,r,p,b,t]);return[i,O,v,h]}((function(){return{gates:[]}})),t=Object(s.a)(e,4),n=t[0],i=t[1],r=t[2],l=t[3],k=Object(a.useState)(!1),S=Object(s.a)(k,2),w=S[0],N=S[1],D=Object(a.useState)(null),G=Object(s.a)(D,2),F=G[0],A=G[1],W=Object(a.useState)(!1),U=Object(s.a)(W,2),Y=U[0],_=U[1],H=Object(a.useState)(null),z=Object(s.a)(H,2),J=z[0],V=z[1],q=Object(a.useState)(null),Z=Object(s.a)(q,2),$=Z[0],Q=Z[1],ee=Object(a.useState)(0),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(1),ie=Object(s.a)(ce,2),re=ie[0],oe=ie[1],ue=Object(a.useState)(0),le=Object(s.a)(ue,2),se=le[0],fe=le[1],pe=Object(a.useRef)(new Sn.a),me=Object(a.useState)(null),de=Object(s.a)(me,2),he=de[0],Oe=de[1],Ee=Object(a.useRef)(),je=Object(a.useRef)(),xe=wn(),ye=function(){return Q(null)},Ce=function(){N(Object.fromEntries(n.gates.filter((function(e){return(e.page||0)===ne})).map((function(e){return[e.id,!0]})))),ye()},ke=function(){V(be(n.gates.filter((function(e){return w[e.id]})))),ye()},we=function(){if(J){var e=ge(n);e.gates=[].concat(Object(u.a)(e.gates),Object(u.a)(J.map((function(e){return Object(o.a)({},e,{page:ne})})))),i(e)}ye()},Me=Object(a.useCallback)((function(e){var t=Object(o.a)({},n);t.gates=Object(u.a)(t.gates);var a=e();t.gates.push(a);var c=Ee.current.getBoundingClientRect(),r=je.current.getBoundingClientRect();a.x=((c.width+320)/2-r.left)/96,a.y=((window.innerHeight+c.height)/2-r.top)/96,a.page=ne,i(t)}),[Ee,je,n,ne,i]),Ne=function(){if(Y)pe.current.stopSimulation(),_(!1);else{var e=function(e){var t={};return e.forEach((function(e){"sender"===e.type&&(t[e.label]=(t[e.label]||0)+1)})),Object.entries(t).filter((function(e){return e[1]>1})).map((function(e){return e[0]})).sort()}(n.gates);0===e.length?(pe.current.startSimulation(n),_(!0)):Oe("Uh oh! Multiple senders for labels: ".concat(e.join(", ")))}};Object(a.useEffect)((function(){var e=Y;return function t(n){e?(A(n),pe.current.getState().then(t)):A(null)}(null),function(){e=!1}}),[Y]);var Pe=function(){var e=Object(o.a)({},n);e.gates=e.gates.filter((function(e){return!w[e.id]})),e.gates=be(e.gates),i(e),N({})},De=function(){ke(),Pe(),ye()},Be=function(e){e>=0&&(ae(e),e>=re&&oe(e+1))};return Object(a.useEffect)((function(){var e=function(e){if(e.target===document.body){var t=e.key.toUpperCase(),n=!0;e.getModifierState("Control")?"C"===t?ke():"V"===t?we():"X"===t?De():"A"===t?Ce():"Z"===t?r():"Y"===t?l():n=!1:"Delete"===e.key?Pe():"P"===t?Ne():isNaN(e.key)?"+"===e.key?Be(ne+1):"-"===e.key?Be(ne-1):n=!1:Be(Number(e.key)-1),n&&e.preventDefault()}};return document.body.addEventListener("keydown",e),function(){return document.body.removeEventListener("keydown",e)}})),c.a.createElement("div",{className:xe.root,onContextMenu:function(e){e.preventDefault(),Q([e.clientX-2,e.clientY-4])}},c.a.createElement(f.a,null),c.a.createElement(h.a,{variant:"persistent",className:xe.drawer,open:!0},c.a.createElement(m.a,null),c.a.createElement("div",{className:xe.drawerContent},c.a.createElement(y.a,{onChange:function(e,t){return fe(t)},value:se,variant:"fullWidth"},c.a.createElement(C.a,{label:"Palette"}),c.a.createElement(C.a,{label:"Properties"})),c.a.createElement(Nn,{value:se,index:0},c.a.createElement(jt,{onSelect:Me})),c.a.createElement(Nn,{value:se,index:1},c.a.createElement(St,{circuit:n,selection:w,onCircuitChanged:function(e){return i(e)}})))),c.a.createElement(p.a,{position:"fixed",className:xe.appBar,ref:Ee},c.a.createElement(m.a,null,c.a.createElement(O.a,{variant:"h6",className:xe.title},"Flux Logic"),c.a.createElement(Mn,{page:ne,pageCount:re,onChangedPage:Be}),c.a.createElement(d.a,{className:xe.menuButtonGroup,color:"inherit"},c.a.createElement(b.a,{title:"Upload project"},c.a.createElement(g.a,{"aria-label":"upload",onClick:function(){return new Promise((function(e,t){var n=document.createElement("input");n.setAttribute("type","file"),n.style.display="none",document.body.appendChild(n),n.addEventListener("change",(function(){this.files[0].text().then((function(t){return e(t)})).catch((function(e){return t(e)}))}),!1),n.click(),document.body.removeChild(n)})).then(ve).then((function(e){i(ge(e.circuit));var t=e.circuit.gates.reduce((function(e,t){return t.page?Math.max(e,t.page):e}),0),n=e.currentPage||0;oe(Math.max(n,t+1)),ae(n)})).catch((function(e){Oe("Uh oh! We weren't able to load that file."),console.error(e)}))}},c.a.createElement(T.a,null))),c.a.createElement(b.a,{title:"Download project"},c.a.createElement(g.a,{"aria-label":"download",onClick:function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("circuit.json",function(e,t){return JSON.stringify({version:K.version,circuit:e,currentPage:t})}(n,ne))}},c.a.createElement(X.a,null)))),c.a.createElement(d.a,{className:xe.menuButtonGroup,color:"inherit"},c.a.createElement(b.a,{title:"Undo"},c.a.createElement(g.a,{"aria-label":"undo",onClick:r},c.a.createElement(I.a,null))),c.a.createElement(b.a,{title:"Redo"},c.a.createElement(g.a,{"aria-label":"redo",onClick:l},c.a.createElement(R.a,null)))),c.a.createElement(b.a,{title:Y?"Stop simulation":"Start simulation"},c.a.createElement(g.a,{"aria-label":Y?"stop":"start",onClick:Ne,className:xe.menuButton,color:"inherit"},Y?c.a.createElement(M.a,null):c.a.createElement(P.a,null))),c.a.createElement(b.a,{title:"Delete selection"},c.a.createElement(g.a,{"aria-label":"delete",onClick:Pe,className:xe.menuButton,color:"inherit"},c.a.createElement(B.a,null))),c.a.createElement(b.a,{title:"Help"},c.a.createElement(g.a,{"aria-label":"help",className:xe.menuButton,color:"inherit",onClick:function(){window.open("https://github.com/tcannon686/fluxlogic#usage","_blank")}},c.a.createElement(L.a,null))))),c.a.createElement(m.a,null),c.a.createElement("main",{className:xe.content},c.a.createElement(m.a,null),c.a.createElement(v.a,null,c.a.createElement(Se,{page:ne,circuit:n,theme:Cn,ref:je,selection:w,simState:F,onSelectionChanged:function(e){N(e)},onCircuitChanged:function(e){i(e)},onUserInputChanged:function(e,t){pe.current.setUserInput(e,t)},editable:!F}))),c.a.createElement(E.a,{open:null!==he,autoHideDuration:1e4,onClose:function(){Oe(null)},message:he}),c.a.createElement(j.a,{keepMounted:!0,open:null!==$,onClose:ye,anchorReference:"anchorPosition",anchorPosition:$&&{left:$[0],top:$[1]}},c.a.createElement(x.a,{onClick:De},"Cut"),c.a.createElement(x.a,{onClick:ke},"Copy"),c.a.createElement(x.a,{onClick:we},"Paste"),c.a.createElement(x.a,{onClick:Ce},"Select all")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dn=n(165),Bn=n(330),Gn=Object(Dn.a)({palette:{primary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},secondary:{light:"#ffbd45",main:"#fb8c00",dark:"#c25e00",contrastText:"#fff"}}});r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),c.a.createElement(Bn.a,{theme:Gn},c.a.createElement(Pn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,n){e.exports=n.p+"static/media/and-gate.b39df76c.svg"},58:function(e,t,n){e.exports=n.p+"static/media/or-gate.ce29e395.svg"},59:function(e,t,n){e.exports=n.p+"static/media/led.788936c7.svg"},60:function(e,t,n){e.exports=n.p+"static/media/buffer-gate.96d07f6a.svg"},61:function(e,t,n){e.exports=n.p+"static/media/switch-off.b1ab986c.svg"},62:function(e,t,n){e.exports=n.p+"static/media/mux.148e9d2c.svg"},63:function(e,t,n){e.exports=n.p+"static/media/demux.7b2120ef.svg"},83:function(e,t,n){e.exports=n.p+"static/media/xor-gate.12bb51fa.svg"},84:function(e,t,n){e.exports=n.p+"static/media/one-gate.ac34b99c.svg"},85:function(e,t,n){e.exports=n.p+"static/media/zero-gate.d126f49d.svg"},86:function(e,t,n){e.exports=n.p+"static/media/sender.737fb0fa.svg"},87:function(e,t,n){e.exports=n.p+"static/media/receiver.34ee3b2e.svg"},88:function(e,t,n){e.exports=n.p+"static/media/seven-segment.87ddfae3.svg"},89:function(e,t,n){e.exports=n.p+"static/media/sr-latch.66255362.svg"},90:function(e,t,n){e.exports=n.p+"static/media/d-latch.acbaf710.svg"},91:function(e,t,n){e.exports=n.p+"static/media/d-flip-flop.57c93f76.svg"},92:function(e,t,n){e.exports=n.p+"static/media/sr-d-flip-flop.2981b8c0.svg"},93:function(e,t,n){e.exports=n.p+"static/media/pin-inverted.25b87449.svg"}},[[182,1,2]]]);
//# sourceMappingURL=main.7306cb94.chunk.js.map